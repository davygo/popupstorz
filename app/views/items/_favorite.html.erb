<%if !current_user%>
<%= link_to "Add to favorite", "#", :onclick=> "return no_login()" %>
<%elsif current_user.favorites.include?(item)%>
<%= link_to "Remove from favorite", remove_from_favorite_item_path(item), :remote => true %>
<%else%>
<%= link_to "Add to favorite", add_to_favorite_item_path(item), :remote => true %>
<%end%>
<script>
  function no_login()
  {
    alert("you should login to use this feature")
    return false;
  }
</script>